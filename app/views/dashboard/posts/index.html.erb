<div class="admin-page">
  <div class="admin-page__header">
    <h1>Posts</h1>
    <%= link_to "Novo Post", new_dashboard_post_path, class: "btn btn--primary" %>
  </div>

  <table class="admin-table">
    <thead>
      <tr>
        <th>Título</th>
        <th>Categoria</th>
        <th>Data</th>
        <th>Status</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <% @posts.each do |post| %>
        <tr>
          <td><%= link_to post.title, dashboard_post_path(post) %></td>
          <td><%= post.category %></td>
          <td><%= post.published_at.strftime("%d/%m/%Y") %></td>
          <td><span class="badge badge--<%= post.published? ? 'published' : 'draft' %>">
            <%= post.published? ? "Publicado" : "Rascunho" %>
          </span></td>
          <td class="admin-table__actions">
            <%= link_to "Editar", edit_dashboard_post_path(post), class: "btn btn--sm" %>
            <%= link_to "Excluir", dashboard_post_path(post),
                method: :delete,
                data: { turbo_method: :delete, turbo_confirm: "Tem certeza?" },
                class: "btn btn--sm btn--danger" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
